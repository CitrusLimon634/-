

范式：关系模式分解的准则

不同级别的范式对关系中各属性间的数据依赖提出了不同级别的要求，高级别的范式包含在低级别范式中

##### 第一范式（1NF）

某一关系模式R为第n范式，简记为R∈nNF。

* 定义：如果一个关系模式R的所有属性都是不可分的基本数据项，则R∈1NF。
* 1NF要求关系中的属性必须是原子项，即不可再分的基本表，不允许表中有表。
* 第一范式是对关系模式最起码的要求，不满足第一范式的数据库模式不能称为关系数据库

#### 第二范式--消除非主属性对主键部分函数依赖

定义:如果关系模式R(U, F ) ∈ 1NF，且R中**每个非主属性都完全函数依赖于主键**，则R( U, F ) ∊ 2NF。
以**单个属性作为主键**的关系自动满足2NF，2NF只针对主键是属性组的情况。

S-L-C(Sno，Cno，Sdept，SLOC（楼号），Grade)
有(Sno，Cno)→Sdep、SLOC，不是2NF。

**投影分解法**，把一个1NF的关系分解成两个或多个2NF的关系。
**分解步骤**：首先，对构成主键属性集合的每个子集，用它作为主键构成一个表；然后，对每个子表，将**依赖于此主键的属性**放置到相应的表中；最后，删除只由主键的子集构成的表。

对于S-L-C表，首先分解为如下形式的三张表：
	S-L（Sno，…）
	C（Cno，…）
	S-C（Sno, Cno,…）
然后，将依赖于这些主键的属性放置到相应的表中：
	S-L（Sno，Sdept, Sloc）
	C（Cno）
	S-C（Sno, Cno, Grade）
最后，去掉只由主键的子集构成的表，最终分解为：
    S-L（Sno, Sdept, Sloc）
    S-C（Sno, Cno, Grade） 

#### 第三范式--消除非主属性对主键传递依赖

定义：如果关系模式R( U , F )∈2NF，且它所有的**非主属性**都**不传递依赖于主键**，则R( U, F )∈3NF。

对S-L (Sno , Sdept , SLOC )
∵Sno --> 传递依赖SLOC, ∴ S-L不满足3NF

###### 分解过程：

1、对于不是候选键的**每个决定因子**，从关系表中删去依赖于它的所有属性；
2、新建一个关系表，新表中包含在原表中所有**依赖于该决定因子的属性**；
3、将**决定因子**作为新表的主键。

Sno-->Sdept-->Sloc

S-L( Sno, Sdept, Sloc )分解后的关系模式为：
S-D（Sno, Sdept） 　S-L（Sdept, Sloc）

#### BC范式--消除主属性对非主属性函数依赖

定义：如果关系模式R( U , F )∈3NF，且不存在主属性对**非键属性**函数依赖

在函数依赖范畴内，BCNF达到了最高的规范化程度
关系模式：CSZ（City，Street，Zip）
语义：城市和街道可以决定邮编，邮政编码可以决定城市
候选码：(City，Street），(Street，Zip)
F＝{ (City，Street）→ Zip ，Zip → City } 

###### 分解：

将CSZ分解为：ZC( Zip, City )，SZ( Street, Zip )



**模式分解后**除了要标识主键还要标识**外键**