

数据库系统所支持的几种数据模型和数据库系统的基本体系结构

##### 2.1  数据和数据模型（Data Model） 

###### 数据和信息

数据：数据库中存储的基本对象，在数据库中按一定的数据模型组织，将描述事物的符号记录称为数据。
信息：包含于原始数据之中，是对原始数据进行加工、处理和提炼后的数据，将从数据中获得的有意义的内容称为信息。 
数据是信息存在的一种形式，只有通过处理或提炼后才能成为有用的信息。

###### 数据模型：对现实数据的模拟和抽象

抽象、表示和组织现实世界中的数据和信息
按应用的目的
概念层、组织层

**数据模型三要素**：数据的基本结构、数据的约束条件、定义在数据上的操作（数据的静态特征和动态特征）
1）**静态特征**

* 数据的**基本结构**，如：学生的属性
* 数据**完整性约束**：给定的数据模型中数据及其联系所具有的**约束**和**存储规则**，限定数据库的状态以及状态的变化，保证数据的正确、有效和相容

2）**动态特征**
指定义在数据上的**操作**以及操作规则，例如：查询、修改和增删学生信息等。 

数据模型是数据库技术的基础，它的三个组成要素**完整地描述**了一个数据模型。



#### 2.2  概念层数据模型

  抽象现实世界中有应用价值的元素及其关联关系，面向用户、面向现实世界

###### 2.22 实体-联系模型（Entity-Relationship, E-R）

描述的信息结构：企业模式（Enterprise Schema），也称E-R模型
1）实体
2）属性
3）联系

#### 2.3  组织层数据模型 

从数据的**组织形式**的角度来描述信息
非关系数据模型
层次模型
网状模型
关系数据模型
面向对象模型、对象模型
从互联网角度划分：关系和NoSQL

##### 层次模型

层次模型用树形结构表示实体和实体之间的联系。
构成层次模型的树由结点和连线组成，结点表示实体，连线表示两个实体间的联系，这种联系是一对多的。通常把表示“一”的实体放在上方，称为父结点；把表示“多”的实体放在下方，称为子结点

###### 层次模型特点：

(1)有且仅有一个结点无父结点，这个结点即为树的根结点；
(2)其他结点有且仅有一个父结点；
(3)层次结构简单直观、易于理解，性能较好；

###### 层次模型缺点：

(1)只能直接处理一对多的实体间的联系；
(2)查询子女必须通过双亲结点；
(3)插入、删除操作限制多； 

##### 网状模型

##### 关系数据模型

把数据看成是二维表中的元素（一行表示一个记录），而这个二维表就是关系
用关系（表格数据）表示实体和实体之间联系的模型称为关系数据模型
一个关系表示一个实体集，如：学生信息表

#### 2.4  数据库系统的结构

**三级模式结构**
1.外模式
2.模式
3.内模式

**二级映射**，这两个映象是DBMS提供数据的逻辑独立性和物理独立性的关键。
模式映像与数据独立性

#### 三级模式

#### 概念模式

概念模式（也称**逻辑模式**或简称**模式**）
数据库中全体数据的**逻辑结构**和**特征**的描述；
所有用户的公共数据集合，综合了所有用户的需求；
一个数据库只有一种概念模式，对应**概念层数据模型**
模式的地位：是数据库系统模式结构的**中间层**

* 与数据的物理存储细节和硬件环境无关；
* 与具体应用程序、开发工具及程序设计语言无关；

###### 模式的定义

数据逻辑结构（数据项的名字、类型、取值范围等）
数据之间的联系；
数据有关的安全性、完整性要求；

##### 外模式

外模式也称为用户模式、子模式。 
对现实系统中感兴趣整体的**局部数据结构**的描述   --  **视图**
用户的数据视图，是与某一应用有关的数据的逻辑表示。 
外模式是**保证数据库安全**的一个有力措施，不同权限用户只能访问所对应的外模式中的数据，避免误操作和蓄意破坏数据。 

外模式的地位：介于模式与应用之间
模式与外模式的关系：一对多
外模式通常是模式的子集；
一个数据库可以有**多个外模式**。反映了不同的用户的应用需求、看待数据的方式、对数据保密的要求；
外模式与应用的关系：一对多
同一外模式也可以为多个应用程序模块所使用；
但一个应用程序只能使用一个外模式。

##### 内模式(存储模式）

* 是数据自身物理结构和存储方式的描述
* 是数据在数据库内部底层的表示方式：
  * 记录的存储方式（顺序存储，按B树结构存储，按hash函数存储）
  * 索引的组织方式：聚簇和非聚簇
  * 数据是否压缩存储
  * 数据是否加密
  * 数据存储记录结构的规定

* 一个数据库只有一个内模式

#### 二级映射

##### 外模式/模式映象

定义某个外模式与概念模式之间的对应关系。
该映象保证了数据的**逻辑独立性**：
当模式改变时，数据库管理员调整有关的外模式／模式映象，使外模式保持不变。
**应用程序是依据数据的外模式编写的**，从而应用程序不必或只需少量修改，保证了数据与程序的逻辑独立性，简称**数据的逻辑独立性**。

##### 模式/内模式映象

定义数据全局逻辑结构与存储结构之间的对应关系。该映象保证了数据的**物理独立性**：
当数据库的存储结构改变了（例如选用了另一种存储结构），数据库管理员调整模式／内模式映象，使模式保持不变。
应用程序依据数据的外模式编写，不受影响。保证了数据与程序的物理独立性，简称数据的物理独立性。



##### 2.5  数据库管理系统

DBMS是一个通用的系统软件，是应用程序与数据库的接口，DBMS提供了一个软件环境，使用户能方便、快捷地建立、检索、操纵和维护DB中的数据。

###### DBMS的处理过程:

用户使用数据库语言发出一个访问请求； 
DBMS接受请求并分析，编译成可执行命令；
把相应的数据操纵从外模式、经外模式／概念模式间的映象、概念模式、经概念模式／内模式间的映象到内模式上的操纵进行统一管理和控制，并按DBA的要求保证数据库的安全性和完整性。  

###### 数据库管理系统DBMS的功能

* 数据定义 
* 数据操作：插入、删除、更新、查询
* 优化和执行 
* 数据安全和完整性约束 
* 数据恢复和并发 
* 数据字典 
* 性能改善





